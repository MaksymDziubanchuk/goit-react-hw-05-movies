"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[564],{8346:function(t,e,n){n.d(e,{$:function(){return p},VB:function(){return v},WF:function(){return f},ko:function(){return i},zx:function(){return l}});var r=n(5861),a=n(7757),c=n.n(a),u=n(4569),o=n.n(u),s="8b67a89c3b3cf87de76d1484537ca872";o().defaults.baseURL="https://api.themoviedb.org/3";var i=function(){var t=(0,r.Z)(c().mark((function t(){var e;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o().get("/trending/movie/day?api_key=".concat(s));case 3:return e=t.sent,t.abrupt("return",e.data.results);case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),p=function(){var t=(0,r.Z)(c().mark((function t(e){var n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o().get("/search/movie?api_key=".concat(s,"&query=").concat(e,"&language=en-US"));case 3:return n=t.sent,t.abrupt("return",n.data.results);case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=(0,r.Z)(c().mark((function t(e){var n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o().get("/movie/".concat(e,"?api_key=").concat(s,"&language=en-US"));case 3:return n=t.sent,t.abrupt("return",n.data);case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),f=function(){var t=(0,r.Z)(c().mark((function t(e){var n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o().get("/movie/".concat(e,"/credits?api_key=").concat(s,"&language=en-US"));case 3:return n=t.sent,t.abrupt("return",n.data);case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),v=function(){var t=(0,r.Z)(c().mark((function t(e){var n;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,o().get("/movie/".concat(e,"/reviews?api_key=").concat(s,"&language=en-US&page=1"));case 3:return n=t.sent,t.abrupt("return",n.data);case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},1218:function(t,e,n){n.r(e),n.d(e,{default:function(){return l}});var r=n(885),a=n(2791),c=n(501),u=n(6871),o="SearchForm_InputIn__-DrwN",s=n(184),i=function(t){var e=t.onSubmit,n=(0,a.useState)(""),c=(0,r.Z)(n,2),u=c[0],i=c[1];return(0,s.jsxs)("form",{onSubmit:function(t){t.preventDefault();var n=u.trim();""!==n?(e(n.toLowerCase()),i("")):alert("Query can not be empty!")},children:[(0,s.jsx)("input",{value:u,onChange:function(t){var e=t.target.value;i(e)},type:"text",autoComplete:"off",className:o}),(0,s.jsx)("button",{type:"submit",children:"Search"})]})},p=n(8346);function l(){var t=(0,a.useState)([]),e=(0,r.Z)(t,2),n=e[0],o=e[1],l=(0,u.TH)(),f=(0,c.lr)(),v=(0,r.Z)(f,2),h=v[0],d=v[1],m=h.get("query"),g=(0,a.useState)(null!==m&&void 0!==m?m:""),x=(0,r.Z)(g,2),y=x[0],b=x[1];return(0,a.useEffect)((function(){""!==y&&(0,p.$)(y).then(o),""===y&&o([])}),[y]),(0,a.useEffect)((function(){m||b("")}),[m]),(0,s.jsxs)("main",{children:[(0,s.jsx)(i,{onSubmit:function(t){y!==t&&(b(t),d("query=".concat(t)))}}),n.length>0&&(0,s.jsx)("ul",{children:n.map((function(t){return(0,s.jsx)("li",{children:(0,s.jsx)(c.rU,{to:"".concat(t.id),state:{from:l},children:t.title})},t.id)}))})]})}}}]);
//# sourceMappingURL=MoviesView.08d07f55.chunk.js.map