{"version":3,"file":"static/js/MovieItem.75a18c63.chunk.js","mappings":"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","sources":["helpers/helpers.jsx","webpack://react-homework-template/./src/pages/MovieItem/MovieItem.module.css?cadc","pages/MovieItem/MovieItem.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst URL = 'https://api.themoviedb.org/3';\nconst API_KEY = '8b67a89c3b3cf87de76d1484537ca872';\naxios.defaults.baseURL = URL;\n\nexport const fechTrendingMovies = async () => {\n  try {\n    const response = await axios.get(`/trending/movie/day?api_key=${API_KEY}`);\n    return response.data.results;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const fechQueryMovies = async query => {\n  try {\n    const response = await axios.get(\n      `/search/movie?api_key=${API_KEY}&query=${query}&language=en-US`\n    );\n    return response.data.results;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const fechMovieDetails = async mivieId => {\n  try {\n    const response = await axios.get(\n      `/movie/${mivieId}?api_key=${API_KEY}&language=en-US`\n    );\n    return response.data;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const fechMovieCredits = async mivieId => {\n  try {\n    const response = await axios.get(\n      `/movie/${mivieId}/credits?api_key=${API_KEY}&language=en-US`\n    );\n    return response.data;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const fechMovieReview = async mivieId => {\n  try {\n    const response = await axios.get(\n      `/movie/${mivieId}/reviews?api_key=${API_KEY}&language=en-US&page=1`\n    );\n    return response.data;\n  } catch (error) {\n    console.log(error);\n  }\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"Btn\":\"MovieItem_Btn__-XNwT\",\"Card\":\"MovieItem_Card__KFtZA\",\"ImgThumb\":\"MovieItem_ImgThumb__ldcsl\",\"Link\":\"MovieItem_Link__2UfGg\",\"ActiveLink\":\"MovieItem_ActiveLink__kkftU\",\"Info\":\"MovieItem_Info__+h9c0\"};","import {\n  useParams,\n  useLocation,\n  useNavigate,\n  NavLink,\n  Outlet,\n} from 'react-router-dom';\nimport { useState, useEffect, Suspense } from 'react';\nimport { fechMovieDetails } from 'helpers/helpers';\nimport css from 'pages/MovieItem/MovieItem.module.css';\n\nexport default function MovieItem() {\n  const { movieId } = useParams();\n  const location = useLocation();\n  const navigate = useNavigate();\n  const [movie, setMovie] = useState('');\n\n  useEffect(() => {\n    fechMovieDetails(Number(movieId)).then(data => {\n      setMovie(data);\n    });\n  }, [movieId]);\n\n  const onGoBack = () => {\n    navigate(location.state?.from ?? '/movies');\n  };\n\n  const joinGenres = genres => {\n    return genres.map(genre => genre.name).join(', ');\n  };\n\n  const score = Math.round((movie.vote_average / 10) * 100);\n  const imgSrc = `https://image.tmdb.org/t/p/w500${movie.poster_path}`;\n  const year = String(movie.release_date).substring(0, 4);\n\n  return (\n    <main>\n      <section>\n        <button type=\"button\" onClick={onGoBack} className={css.Btn}>\n          Go back\n        </button>\n        {movie && (\n          <div>\n            <div className={css.Card}>\n              <div className={css.ImgThumb}>\n                <img src={imgSrc} alt=\"\" width=\"220\" />\n              </div>\n\n              <div className={css.MovieDescr}>\n                <h2>{`${movie.original_title} (${year})`}</h2>\n                <span>{`User Score: ${score}%`}</span>\n                <h3>Overview</h3>\n                <span>{movie.overview}</span>\n                <h4>Genres</h4>\n                <span>{joinGenres(movie.genres)}</span>\n              </div>\n            </div>\n\n            <div className={css.Info}>\n              <p>Additional information</p>\n              <ul>\n                <li>\n                  <NavLink\n                    to=\"cast\"\n                    state={{ from: location.state?.from ?? '/movies' }}\n                    className={({ isActive }) =>\n                      isActive ? css.ActiveLink : css.Link\n                    }\n                  >\n                    Cast\n                  </NavLink>\n                </li>\n                <li>\n                  <NavLink\n                    to=\"reviews\"\n                    state={{ from: location.state?.from ?? '/movies' }}\n                    className={({ isActive }) =>\n                      isActive ? css.ActiveLink : css.Link\n                    }\n                  >\n                    Reviews\n                  </NavLink>\n                </li>\n              </ul>\n            </div>\n\n            <Suspense fallback={<div>Loading subpage...</div>}>\n              <Outlet />\n            </Suspense>\n          </div>\n        )}\n      </section>\n    </main>\n  );\n}\n"],"names":["API_KEY","axios","fechTrendingMovies","response","data","results","console","log","fechQueryMovies","query","fechMovieDetails","mivieId","fechMovieCredits","fechMovieReview","MovieItem","movieId","useParams","location","useLocation","navigate","useNavigate","useState","movie","setMovie","useEffect","Number","then","genres","score","Math","round","vote_average","imgSrc","poster_path","year","String","release_date","substring","type","onClick","state","from","className","css","src","alt","width","original_title","overview","map","genre","name","join","to","isActive","Suspense","fallback"],"sourceRoot":""}